/*! DribbbleFolio 0.0.5 | (c) 2015 Pedro RogÃ©rio | MIT License */
!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.DribbbleFolio=b()}(this,function(){"use strict";Function.prototype.hasOwnProperty("bind")||(Function.prototype.bind=function(){var a=this,b=arguments[0],c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(b,c.concat(Array.prototype.slice.call(arguments)))}});var a=function(b){if(!(this&&this instanceof a))return new a(b);if(b||(b={}),!b.username)throw"Please, provide a username!";this.username=b.username,this.counter=b.counter,this.container=document.querySelector("#shots"),this.endpoint="./request.php",this.fetch()};return a.prototype={fetch:function(){var a=this.endpoint+"?",b={username:this.username,counter:this.counter};this.loading(),this.getJSON(a+this.param(b),this.attach.bind(this))},param:function(a){var b,c="";for(b in a)a.hasOwnProperty(b)&&(c.length>0&&(c+="&"),c+=encodeURI(b+"="+a[b]));return c},getJSON:function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-type","application/json"),c.onreadystatechange=function(){if(4===this.readyState){if(!(this.status>=200&&this.status<300||304===this.status))throw new Error(this.status+" - "+this.statusText);var a="";try{a=JSON.parse(this.responseText)}catch(c){a=this.responseText}b.call(this,a)}},c.send(),c=null},supportsSvg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},create:function(a,b){var c,d=document.createElement(a);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d},loading:function(){if(!this.supportsSvg()){var a=document.querySelector(".loading");a.setAttribute("src","./assets/css/img/loading.gif")}},shot:function(a){var b,c,d,e,f,g,h,i=a.html_url,j=document.createTextNode(a.title),k=(a.title,a.images.hidpi),l=document.createDocumentFragment();b=this.create("div",{className:"col-sm-6 col-md-4 col-lg-4"}),c=this.create("div",{className:"grid-list"}),d=this.create("div",{className:"overlay"}),e=this.create("a",{href:i,target:"_blank"}),f=this.create("a",{href:i,target:"_blank"}),g=this.create("h2"),h=this.create("img",{className:"img-responsive",src:k}),b.appendChild(c),c.appendChild(e),c.appendChild(d),e.appendChild(h),g.appendChild(j),f.appendChild(g),d.appendChild(f),l.appendChild(b),this.container.appendChild(l.cloneNode(!0))},shots:function(a){var b,c,d=document.querySelector(".loading");for(this.container.removeChild(d),b=0,c=a.length;c>b;b+=1)this.shot(a[b])},attach:function(a){this.shots(a)}},a});